version: '1.0.{build}'

image: Visual Studio 2017

install:
    - git submodule update --init --recursive

before_build:
    - cmake -DBUILD_TESTS=True -DBUILD_EXAMPLES=True .

build:
    project: $(APPVEYOR_BUILD_FOLDER)\lsqcpp.sln

test_script:
    - '%APPVEYOR_BUILD_FOLDER%\Debug\run_tests.exe'
    - '%APPVEYOR_BUILD_FOLDER%\Debug\my_error_function.exe'
